qin# PDF Toolkit Pro 前端规格文档

## 文档信息
- **项目名称**: PDF Toolkit Pro
- **文档版本**: v1.1
- **创建日期**: 2025-01-21
- **创建者**: Sally (UX Expert)
- **最后更新**: 2025-01-21 (同步实际实现状态)

## 概述

PDF Toolkit Pro 是一款革命性的"预览即编辑"免费 PDF 工具，专为中文用户优化。本文档定义了应用的前端界面规格、交互设计和用户体验标准。

### 核心设计原则
1. **用户为中心** - 每个设计决策都服务于用户需求
2. **简洁高效** - 通过迭代实现简洁性，减少认知负担
3. **细节愉悦** - 精心设计的微交互创造难忘体验
4. **真实场景** - 考虑边缘情况、错误状态和加载状态
5. **协作导向** - 设计支持跨功能协作的最佳解决方案

## 整体架构

### 应用布局结构
```
┌─────────────────────────────────────────────────────────────┐
│                    标题栏 & 菜单栏                           │
├─────────────┬─────────────────────────┬─────────────────────┤
│             │                         │                     │
│   文件列表   │      预览编辑区域        │   智能整理面板       │
│   (250px)   │      (flex-grow)       │    (300px)         │
│             │                         │                     │
│             │                         │                     │
│             │                         │                     │
│             │                         │                     │
│             │                         │                     │
├─────────────┴─────────────────────────┴─────────────────────┤
│                      状态栏                                 │
└─────────────────────────────────────────────────────────────┘
```

### 响应式设计
- **最小窗口尺寸**: 1200x800px
- **推荐尺寸**: 1920x1080px
- **布局适配**: 支持窗口大小调整，面板可折叠

## 核心界面组件

### 1. 标题栏 & 菜单栏

#### 标题栏设计
```
PDF Toolkit Pro                    [─] [□] [×]
```

**规格要求**:
- 高度: 32px
- 背景色: #FFFFFF
- 标题字体: Microsoft YaHei, 14px, #333333
- 窗口控制按钮: 标准 Windows 样式

#### 菜单栏设计
```
文件(F)  编辑(E)  视图(V)  工具(T)  帮助(H)
```

**规格要求**:
- 高度: 28px
- 背景色: #F8F9FA
- 字体: Microsoft YaHei, 12px
- 悬停效果: 背景色变为 #E9ECEF

### 2. 文件列表面板

#### 布局结构
```
┌─────────────────────┐
│ 📁 导入文件          │
├─────────────────────┤
│ 🔍 搜索框           │
├─────────────────────┤
│ 📄 文件1.pdf        │
│ 📄 文件2.pdf        │
│ 📄 文件3.pdf        │
│ ...                 │
└─────────────────────┘
```

#### 设计规格

**导入区域**:
- 高度: 120px
- 边框: 2px dashed #007BFF
- 背景: #F8F9FA
- 拖拽悬停: 背景变为 #E3F2FD

**文件项设计**:
- 高度: 48px
- 内边距: 8px 12px
- 悬停效果: 背景色 #F0F0F0
- 选中状态: 背景色 #007BFF, 文字白色

**文件项内容**:
```
📄 [文件名.pdf]           [大小]
   [修改时间]             [状态图标]
```

### 3. 预览编辑区域

#### 核心功能区域
```
┌─────────────────────────────────────────┐
│ 🔍 [75%] ⚙️ 📄 1/10                    │ 工具栏
├─────────────────────────────────────────┤
│                                         │
│           PDF 预览内容                   │
│        (可编辑文本高亮)                  │
│                                         │
│                                         │
└─────────────────────────────────────────┘
```

#### 预览即编辑交互设计

**文本编辑状态**:
1. **默认状态**: 文本正常显示
2. **悬停状态**: 可编辑文本显示淡蓝色边框 (#007BFF, 0.3 opacity)
3. **编辑状态**: 
   - 文本框背景: #FFFFFF
   - 边框: 2px solid #007BFF
   - 阴影: 0 2px 8px rgba(0,123,255,0.2)

**编辑工具栏**:
```
[B] [I] [U] | 字体 | 大小 | 颜色 | ✓ ✗
```

#### 缩略图导航
```
┌─────┐ ┌─────┐ ┌─────┐
│ 📄1 │ │ 📄2 │ │ 📄3 │
└─────┘ └─────┘ └─────┘
```

**规格要求**:
- 缩略图尺寸: 80x100px
- 间距: 8px
- 当前页高亮: 边框 2px solid #007BFF

### 4. 智能整理面板

#### 面板结构
```
┌─────────────────────┐
│ 🤖 智能建议          │
├─────────────────────┤
│ 📝 重命名建议        │
│ ✓ 合同-2025-01.pdf  │
│ ✓ 报告-季度-Q1.pdf  │
├─────────────────────┤
│ 📂 分类建议          │
│ ✓ 合同文件夹         │
│ ✓ 财务报告          │
├─────────────────────┤
│ [应用选中] [全部应用] │
└─────────────────────┘
```

#### 建议项设计
```
✓ [建议内容]                    [置信度: 85%]
  [原文件名] → [建议文件名]
```

**交互状态**:
- 默认: 复选框未选中
- 悬停: 背景色 #F8F9FA
- 选中: 复选框选中，背景色 #E3F2FD

## 视觉设计系统

### 色彩规范

#### 主色调
- **主色**: #007BFF (品牌蓝)
- **辅助色**: #6C757D (中性灰)
- **成功色**: #28A745 (绿色)
- **警告色**: #FFC107 (黄色)
- **错误色**: #DC3545 (红色)

#### 背景色
- **主背景**: #FFFFFF
- **次背景**: #F8F9FA
- **面板背景**: #FFFFFF
- **悬停背景**: #F0F0F0

#### 文字色
- **主文字**: #333333
- **次文字**: #6C757D
- **链接文字**: #007BFF
- **禁用文字**: #ADB5BD

### 字体规范

#### 中文字体栈
```css
font-family: "Microsoft YaHei", "PingFang SC", "Hiragino Sans GB", 
             "Helvetica Neue", Arial, sans-serif;
```

#### 字体大小
- **标题**: 18px, font-weight: 600
- **子标题**: 16px, font-weight: 500
- **正文**: 14px, font-weight: 400
- **小字**: 12px, font-weight: 400
- **按钮**: 14px, font-weight: 500

### 间距规范

#### 标准间距
- **xs**: 4px
- **sm**: 8px
- **md**: 16px
- **lg**: 24px
- **xl**: 32px

#### 组件间距
- 面板内边距: 16px
- 组件间距: 12px
- 按钮内边距: 8px 16px

### 圆角规范
- **小圆角**: 4px (按钮、输入框)
- **中圆角**: 8px (卡片、面板)
- **大圆角**: 12px (模态框)

## 交互设计规范

### 预览即编辑交互流程

#### 文本编辑流程
1. **发现阶段**: 鼠标悬停 → 显示编辑提示
2. **进入编辑**: 单击文本 → 激活编辑模式
3. **编辑过程**: 实时预览 → 自动保存
4. **完成编辑**: ESC键/点击外部 → 退出编辑

#### 视觉反馈
```
悬停状态: 文本 + 淡蓝色边框 + 编辑图标
编辑状态: 文本框 + 蓝色边框 + 工具栏
保存状态: 绿色对勾动画 (500ms)
```

### 智能建议交互

#### 建议生成流程
1. **文件分析**: 显示分析进度条
2. **生成建议**: 逐项显示建议 (动画效果)
3. **用户选择**: 复选框交互
4. **批量应用**: 确认对话框 → 执行动画

#### 反馈动画
- **分析中**: 旋转加载图标
- **建议出现**: 从上到下淡入 (200ms 间隔)
- **应用成功**: 绿色对勾 + 淡出效果

### 文件操作交互

#### 拖拽导入
```
拖拽进入 → 边框高亮 → 释放 → 上传动画 → 完成提示
```

#### 文件选择
```
单击选择 → 高亮显示 → 预览加载 → 内容显示
```

## 状态设计

### 加载状态

#### 应用启动
```
[Logo] PDF Toolkit Pro
       正在启动...
       ████████░░ 80%
```

#### 文件加载
```
📄 正在加载 文件名.pdf...
   ████████████████████ 100%
```

#### AI 分析
```
🤖 正在分析文档内容...
   ⚡ 识别文档类型
   ⚡ 生成命名建议
   ⚡ 分类建议生成
```

### 错误状态

#### 文件错误
```
❌ 文件加载失败
   文件可能已损坏或格式不支持
   [重试] [选择其他文件]
```

#### 编辑错误
```
⚠️ 保存失败
   请检查文件权限或磁盘空间
   [重试] [另存为]
```

### 空状态

#### 无文件状态
```
📁 还没有 PDF 文件
   拖拽文件到这里开始使用
   或 [浏览文件]
```

#### 无建议状态
```
🤖 暂无智能建议
   文件分析中，请稍候...
```

## 响应式设计

### 窗口尺寸适配

#### 标准尺寸 (1920x1080)
- 文件列表: 250px
- 预览区域: flex-grow
- 整理面板: 300px

#### 紧凑尺寸 (1366x768)
- 文件列表: 200px
- 预览区域: flex-grow
- 整理面板: 250px (可折叠)

#### 最小尺寸 (1200x800)
- 文件列表: 可折叠
- 预览区域: 全宽
- 整理面板: 底部抽屉式

### 面板折叠设计
```
[≡] 文件列表    预览区域    智能面板 [×]
```

## 无障碍设计

### 键盘导航
- **Tab**: 在可聚焦元素间切换
- **Enter/Space**: 激活按钮和链接
- **Esc**: 退出编辑模式/关闭对话框
- **Ctrl+O**: 打开文件
- **Ctrl+S**: 保存文件

### 屏幕阅读器支持
- 所有交互元素提供 aria-label
- 状态变化提供 aria-live 通知
- 语义化 HTML 结构

### 高对比度模式
- 支持 Windows 高对比度主题
- 边框宽度增加到 2px
- 焦点指示器更明显

## 性能要求

### 渲染性能
- 界面响应时间: < 100ms
- 页面切换动画: 60fps
- 大文件预览: < 2s 加载时间

### 内存使用
- 界面组件: < 50MB
- 预览缓存: < 100MB
- 总内存占用: < 200MB

## 技术实现建议

### 前端技术栈 (当前实现)
```
React 18 + TypeScript
├── 构建工具: Vite 5.x
├── 样式: 内联样式 (当前) → Tailwind CSS (计划)
├── 状态管理: React State (当前) → Zustand (计划)
├── 桌面框架: Electron 27.3.11
└── 开发环境: 热重载 + TypeScript
```

**实现状态说明:**
- ✅ 基础 React + TypeScript 架构已完成
- ✅ Vite 构建工具配置完成
- 🔄 当前使用简化的内联样式，计划迁移到 Tailwind CSS
- 📋 UI 组件库待选择 (考虑轻量化方案)
- 📋 状态管理将在功能复杂化后引入 Zustand

### 组件架构
```
src/
├── components/
│   ├── FileList/
│   ├── PreviewEditor/
│   ├── SmartPanel/
│   └── common/
├── hooks/
├── stores/
├── utils/
└── types/
```

### 关键组件设计

#### PreviewEditor 组件
```typescript
interface PreviewEditorProps {
  file: PDFFile;
  onTextEdit: (text: string, position: Position) => void;
  onSave: () => void;
}
```

#### SmartPanel 组件
```typescript
interface SmartPanelProps {
  suggestions: Suggestion[];
  onApplySuggestion: (id: string) => void;
  onBatchApply: (ids: string[]) => void;
}
```

## 测试要求

### 用户体验测试
- 新用户完成首次编辑: < 2分钟
- 批量整理20个文件: < 5分钟
- 用户满意度评分: > 4.5/5

### 兼容性测试
- Windows 10/11 各版本
- 不同屏幕分辨率
- 高DPI显示器支持

### 性能测试
- 100MB PDF文件加载
- 50页文档编辑响应
- 长时间使用内存稳定性

## 发布检查清单

### 界面完整性
- [ ] 所有界面组件正常显示
- [ ] 响应式布局适配正确
- [ ] 主题色彩应用一致
- [ ] 中文字体渲染正确

### 交互功能
- [ ] 预览即编辑功能正常
- [ ] 智能建议生成准确
- [ ] 文件拖拽导入顺畅
- [ ] 批量操作执行正确

### 用户体验
- [ ] 新用户引导完整
- [ ] 错误提示友好清晰
- [ ] 加载状态反馈及时
- [ ] 操作反馈动画流畅

### 性能指标
- [ ] 启动时间 < 3秒
- [ ] 界面响应 < 100ms
- [ ] 内存占用 < 200MB
- [ ] 文件处理 < 2秒

## 当前实现状态 (2025-01-21)

### ✅ 已实现的界面组件

**基础架构:**
- ✅ Electron 主窗口和基础框架
- ✅ React 渲染进程集成
- ✅ TypeScript 配置完整
- ✅ Vite 热重载开发环境

**当前界面:**
- ✅ 简单的欢迎界面 (App.tsx)
- ✅ 基础应用标题和品牌元素
- ✅ 项目状态展示
- 🔄 三栏布局设计待实现

### 📋 待实现的界面组件

**优先级 1 (Story 1.3):**
- 📋 完整的三栏布局框架
- 📋 文件列表面板
- 📋 预览编辑区域
- 📋 智能整理面板

**优先级 2 (Story 1.4-1.5):**
- 📋 PDF 文件导入界面
- 📋 拖拽导入功能
- 📋 PDF 预览组件
- 📋 缩略图导航

### 🎯 设计系统实施计划

**当前方案:** 简化的内联样式
**目标方案:** Tailwind CSS + 组件库
**迁移策略:** 渐进式重构，保持功能稳定

---

**文档状态**: ✅ 已同步实际实现状态  
**下次更新**: 完成 Story 1.3 后更新界面实现细节  
**相关文档**: [PRD文档](./prd.md) | [架构文档](./stories/architecture.md)
